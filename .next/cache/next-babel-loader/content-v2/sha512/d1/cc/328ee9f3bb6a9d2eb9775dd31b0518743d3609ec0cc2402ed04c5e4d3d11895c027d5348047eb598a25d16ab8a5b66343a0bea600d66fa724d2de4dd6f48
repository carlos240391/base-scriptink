{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { AnouncementContainer, AnouncementWrapper } from \"./anouncement-styles\";\nimport { motion } from 'framer-motion';\n\nconst Anouncement = props => {\n  const {\n    anouncementSettings\n  } = props.themeSettings;\n  const [indice, setIndice] = React.useState(0);\n  const [close, setClose] = React.useState(true);\n  React.useEffect(() => {\n    const tick = setInterval(() => {\n      if (indice < anouncementSettings.anouncements.length - 1) {\n        setIndice(indice + 1);\n      } else {\n        setIndice(0);\n      }\n    }, anouncementSettings.time);\n    return () => clearInterval(tick);\n  }, [indice]);\n  React.useEffect(() => {\n    const allContents = document.querySelectorAll('.js-content');\n    allContents.forEach(content => {\n      content.innerHTML = content.dataset.content;\n    });\n  }, [indice]);\n\n  const closeAdd = () => {\n    setClose(false);\n  };\n\n  if (!anouncementSettings.visible) return null;\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: close && /*#__PURE__*/_jsx(motion.div, {\n      exit: {\n        opacity: 0\n      },\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        duration: 1.5,\n        delay: 0.5\n      },\n      children: /*#__PURE__*/_jsx(AnouncementWrapper, {\n        anouncementSettings: anouncementSettings,\n        id: \"js-anuncio\",\n        children: /*#__PURE__*/_jsxs(AnouncementContainer, {\n          anouncementSettings: anouncementSettings,\n          id: \"js-parent\",\n          children: [anouncementSettings.anouncements.map((anouncement, i) => {\n            if (indice === i) {\n              return /*#__PURE__*/_jsx(\"div\", {\n                className: \"js-content c-content\",\n                \"data-content\": anouncement.content\n              }, i);\n            }\n          }), /*#__PURE__*/_jsx(\"button\", {\n            id: \"close-anouncement\",\n            onClick: closeAdd,\n            children: \"X\"\n          })]\n        })\n      })\n    })\n  });\n};\n\nexport default Anouncement;","map":null,"metadata":{},"sourceType":"module"}